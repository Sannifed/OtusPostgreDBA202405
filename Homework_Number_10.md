
# Домашнее задание №10


* **На 1 ВМ создаем таблицы test для записи, test2 для запросов на чтение.**  
* **Создаем публикацию таблицы test и подписываемся на публикацию таблицы test2 с ВМ №2.**  
* **На 2 ВМ создаем таблицы test2 для записи, test для запросов на чтение.**  
* **Создаем публикацию таблицы test2 и подписываемся на публикацию таблицы test1 с ВМ №1.**  
![Альт-текст](Images/HW10/01.png)
![Альт-текст](Images/HW10/18.png)
![Альт-текст](Images/HW10/03.png)
![Альт-текст](Images/HW10/04.png)
![Альт-текст](Images/HW10/05.png)
![Альт-текст](Images/HW10/06.png)
![Альт-текст](Images/HW10/07.png)
![Альт-текст](Images/HW10/08.png)


* **Создаем БД, схему и в ней таблицу.**  
* **Заполним таблицы автосгенерированными 100 записями.**  
![Альт-текст](Images/HW9/02.png)  
![Альт-текст](Images/HW9/03.png)  
![Альт-текст](Images/HW9/03_05.png)  

* **Под линукс пользователем Postgres создадим каталог для бэкапов.**  
![Альт-текст](Images/HW9/04.png)  

* **Сделаем логический бэкап используя утилиту COPY.**  
![Альт-текст](Images/HW9/05.png)  
![Альт-текст](Images/HW9/06.png)  
![Альт-текст](Images/HW9/06_05.png)  

* **Восстановим в 2 таблицу данные из бэкапа.**  
![Альт-текст](Images/HW9/07.png)  
![Альт-текст](Images/HW9/08.png)  
![Альт-текст](Images/HW9/09.png)  

* **Используя утилиту pg_dump создадим бэкап в кастомном сжатом формате двух таблиц.**  
![Альт-текст](Images/HW9/10.png)  

* **Используя утилиту pg_restore восстановим в новую БД только вторую таблицу!**  
![Альт-текст](Images/HW9/11.png)  
_Выводим в файл оглавление архива._  
![Альт-текст](Images/HW9/12.png)  
_Комментируем лишние строки, оставляем только записи относящиеся ко второй таблице._  
![Альт-текст](Images/HW9/13.png)  
_Создаём новую БД, схему, смотрим что таблиц пока в ней нет._  
![Альт-текст](Images/HW9/14.png)  
_Восстанавливаемся из дампа с параметром -L и указываем наш файл db.list._  
![Альт-текст](Images/HW9/14_05.png)  
_Проверяем что таблица появилась._  
![Альт-текст](Images/HW9/08.png)  
![Альт-текст](Images/HW9/09.png)  
_Так же есть вариант использовать параметр -t и указать имя нужной таблицы._  
![Альт-текст](Images/HW9/17.png)  
_Пример испльзования команды, указана таблица testtable2 - это я тестировал уже на другой таблице, так же всё работает и данные загружаются._  

